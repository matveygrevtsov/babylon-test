"use strict";(self.webpackChunkbabylon_test=self.webpackChunkbabylon_test||[]).push([[785],{17785:(e,n,t)=>{var r,o,i,a,c,s,l,u=t(96540),d=t(5338),h=t(27581),p=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e},m=h.Ay.div(r||(r=p(["\n  width: 100vw;\n  height: 100vh;\n  position: relative;\n\n  & canvas {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n  }\n"],["\n  width: 100vw;\n  height: 100vh;\n  position: relative;\n\n  & canvas {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n  }\n"]))),f=h.Ay.div(o||(o=p(["\n  position: absolute;\n  left: 16px;\n  top: 16px;\n  z-index: 1;\n  width: 48px;\n  height: 48px;\n  cursor: pointer;\n"],["\n  position: absolute;\n  left: 16px;\n  top: 16px;\n  z-index: 1;\n  width: 48px;\n  height: 48px;\n  cursor: pointer;\n"]))),v=t(10692),y={KeyW:"KeyW",KeyA:"KeyA",KeyS:"KeyS",KeyD:"KeyD"},w=t(67828),g=function(){function e(e){var n=e.scene,t=e.camera,r=this;this.scene=n,this.camera=t,this.pressedKeyBoardKeys=new Set,v.SceneLoader.ImportMeshAsync(null,"assets/","Adventurer.gltf",this.scene).then((function(e){var n=e.meshes,t=e.animationGroups;r.mesh=n[0],r.mesh.checkCollisions=!0,r.animations=t,r.addListeners()}))}return e.prototype.animate=function(e){var n;null===(n=this.animations)||void 0===n||n.forEach((function(n){n.name===e?n.start(!0):n.stop()}))},e.prototype.addListeners=function(){var e=this;this.scene.onKeyboardObservable.add((function(n){e.handleKeyboardEvent(n)})),this.scene.onBeforeRenderObservable.add((function(){e.handleSceneTick()}))},e.prototype.handleKeyboardEvent=function(e){var n=e.event.code;if(y[n]){var t=this.pressedKeyBoardKeys;e.type===w.KeyboardEventTypes.KEYDOWN?t.add(n):t.delete(n)}},e.prototype.handleSceneTick=function(){this.refreshMovementDirectionVector(),this.refreshAnimation(),this.refreshRotation(),this.refreshPosition()},e.prototype.refreshMovementDirectionVector=function(){var e=this.camera,n=this.pressedKeyBoardKeys;this.movementDirectionVector?this.movementDirectionVector.copyFrom(v.Vector3.Zero()):this.movementDirectionVector=v.Vector3.Zero();var t=e.getForwardRay().direction;t.y=0,n.has("KeyW")&&!n.has("KeyS")&&this.movementDirectionVector.addInPlace(t),n.has("KeyS")&&!n.has("KeyW")&&this.movementDirectionVector.addInPlace(t.scale(-1)),n.has("KeyD")&&!n.has("KeyA")&&this.movementDirectionVector.addInPlace(new v.Vector3(t.z,0,-t.x)),n.has("KeyA")&&!n.has("KeyD")&&this.movementDirectionVector.addInPlace(new v.Vector3(-t.z,0,t.x)),this.movementDirectionVector.normalize()},e.prototype.refreshAnimation=function(){var e;this.animate((null===(e=this.movementDirectionVector)||void 0===e?void 0:e.length())?"Run":"Idle")},e.prototype.refreshRotation=function(){var e=this.movementDirectionVector,n=this.mesh;(null==e?void 0:e.length())&&n&&n.lookAt(n.position.subtract(e))},e.prototype.refreshPosition=function(){var e,n=this,t=n.mesh,r=n.movementDirectionVector,o=n.scene,i=n.camera;if(t&&r&&i){var a=(null!==(e=o.deltaTime)&&void 0!==e?e:0)/1e3*4;t.moveWithCollisions(r.scale(a)),i.setTarget(t.position)}},e}(),x=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e},b=h.Ay.div(i||(i=x(["\n  width: 100%;\n  max-width: 400px;\n  position: absolute;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  display: flex;\n  flex-direction: column;\n  z-index: 1;\n  background-color: #d3d3d3;\n"],["\n  width: 100%;\n  max-width: 400px;\n  position: absolute;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  display: flex;\n  flex-direction: column;\n  z-index: 1;\n  background-color: #d3d3d3;\n"]))),E=h.Ay.div(a||(a=x(["\n  flex-shrink: 0;\n  position: relative;\n  padding: 16px;\n"],["\n  flex-shrink: 0;\n  position: relative;\n  padding: 16px;\n"]))),K=h.Ay.div(c||(c=x(["\n  width: ","px;\n  height: ","px;\n  cursor: pointer;\n"],["\n  width: ","px;\n  height: ","px;\n  cursor: pointer;\n"])),48,48),k=h.Ay.div(s||(s=x(["\n  height: 100%;\n  overflow: auto;\n"],["\n  height: 100%;\n  overflow: auto;\n"]))),C=h.Ay.div(l||(l=x(["\n  padding: 16px;\n  background-color: ",";\n  cursor: pointer;\n"],["\n  padding: 16px;\n  background-color: ",";\n  cursor: pointer;\n"])),(function(e){return e.isActive?"#89CFF0":"#F0F8FF"})),A=function(){return A=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},A.apply(this,arguments)},O=function(e){return u.createElement("svg",A({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},e),u.createElement("path",{d:"M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"}))},V=function(e){var n=e.activeItemIndex,t=e.onItemClick,r=e.onClose,o=e.itemsNumber,i=(0,u.useMemo)((function(){return Array.from(Array(o).keys())}),[o]);return u.createElement(b,null,u.createElement(E,null,u.createElement(K,{onClick:r},u.createElement(O,null))),u.createElement(k,null,i.map((function(e){return u.createElement(C,{onClick:function(){return t(e)},isActive:e===n,key:e},"Пример №".concat(e+1))}))))},D=function(){return D=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},D.apply(this,arguments)},z=function(e){return u.createElement("svg",D({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},e),u.createElement("path",{d:"M0 96C0 78.3 14.3 64 32 64l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 128C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 288c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32L32 448c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z"}))},L=(t(15022),t(35652),t(35172),function(){return L=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},L.apply(this,arguments)}),M={index:0,isNavigationOpened:!1},P=[function(){var e=function(){var e=(0,u.useRef)(null);return(0,u.useEffect)((function(){var n=e.current;if(n){n.addEventListener("click",(function(){n.requestPointerLock()}));var t=new v.Engine(n,!0,{preserveDrawingBuffer:!0,stencil:!0}),r=new v.Scene(t),o=new v.ArcRotateCamera("Camera",-Math.PI/2,Math.PI/4,10,v.Vector3.Zero(),r);o.setTarget(v.Vector3.Zero()),o.attachControl(n,!0),new v.HemisphericLight("light",new v.Vector3(0,1,0),r).intensity=.7,new g({scene:r,camera:o});var i=v.MeshBuilder.CreateBox("cube",{size:1},r);i.position.y=.5,i.position.z=5,i.checkCollisions=!0;var a=v.MeshBuilder.CreateGround("ground",{width:6,height:6},r),c=new v.StandardMaterial("groundMaterial",r);c.diffuseColor=v.Color3.FromHexString("#97ae3b"),a.material=c,t.runRenderLoop((function(){r.render()}));var s=function(){t.resize()};return window.addEventListener("resize",s),function(){return window.removeEventListener("resize",s)}}}),[]),e}();return u.createElement("canvas",{ref:e})}],I=function(){var e=(0,u.useState)(M),n=e[0],t=e[1],r=(0,u.useMemo)((function(){return P[n.index]}),[n.index]),o=function(){t((function(e){return L(L({},e),{isNavigationOpened:!e.isNavigationOpened})}))};switch(P.length){case 0:return null;case 1:return u.createElement(m,null,u.createElement(r,null));default:return u.createElement(m,null,n.isNavigationOpened?u.createElement(V,{activeItemIndex:n.index,onItemClick:function(e){t((function(n){return L(L({},n),{index:e})}))},onClose:o,itemsNumber:P.length}):u.createElement(f,{onClick:o},u.createElement(z,null)),u.createElement(r,null))}};d.createRoot(document.getElementById("root")).render(u.createElement(u.StrictMode,null,u.createElement((function(){return u.createElement(I,null)}),null)))}}]);