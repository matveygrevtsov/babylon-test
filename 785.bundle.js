"use strict";(self.webpackChunkbabylon_test=self.webpackChunkbabylon_test||[]).push([[785],{17785:(e,n,t)=>{var r,o,i,a,c,s,l,u=t(96540),d=t(5338),h=t(27581),p=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e},m=h.Ay.div(r||(r=p(["\n  width: 100vw;\n  height: 100vh;\n  position: relative;\n\n  & canvas {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n  }\n"],["\n  width: 100vw;\n  height: 100vh;\n  position: relative;\n\n  & canvas {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n  }\n"]))),f=h.Ay.div(o||(o=p(["\n  position: absolute;\n  left: 16px;\n  top: 16px;\n  z-index: 1;\n  width: 48px;\n  height: 48px;\n  cursor: pointer;\n"],["\n  position: absolute;\n  left: 16px;\n  top: 16px;\n  z-index: 1;\n  width: 48px;\n  height: 48px;\n  cursor: pointer;\n"]))),v=t(10692),y={KeyW:"KeyW",KeyA:"KeyA",KeyS:"KeyS",KeyD:"KeyD"},w=t(67828),x=function(){function e(e){var n=e.scene,t=e.camera,r=this;this.scene=n,this.camera=t,this.pressedKeyBoardKeys=new Set,this.loadToScene().then((function(){r.animate("Idle"),r.addListeners()}))}return e.prototype.loadToScene=function(){var e=this;return v.SceneLoader.ImportMeshAsync(null,"assets/","Adventurer.gltf",this.scene).then((function(n){var t=n.meshes,r=n.animationGroups;e.mesh=t[0],e.animations=r}))},e.prototype.animate=function(e){var n;null===(n=this.animations)||void 0===n||n.forEach((function(n){n.name===e?n.start(!0):n.stop()}))},e.prototype.addListeners=function(){var e=this;this.scene.onKeyboardObservable.add((function(n){e.handleKeyboardEvent(n)})),this.scene.onBeforeRenderObservable.add((function(){e.handleSceneTick()}))},e.prototype.handleKeyboardEvent=function(e){var n=e.event.code;if(y[n]){var t=this.pressedKeyBoardKeys;e.type===w.KeyboardEventTypes.KEYDOWN?t.add(n):t.delete(n),t.has("KeyW")||t.has("KeyS")||t.has("KeyD")||t.has("KeyA")?this.animate("Run"):this.animate("Idle")}},e.prototype.handleSceneTick=function(){var e;this.refreshCameraDirectionVector(),this.refreshMovementDirectionVector(),this.refreshRotation();var n=this,t=n.mesh,r=n.movementDirectionVector,o=n.scene,i=n.camera;if(t&&r&&i){var a=(null!==(e=o.deltaTime)&&void 0!==e?e:0)/1e3*4,c=new v.Vector3(r.x,0,r.y).scale(a);t.position.addInPlace(c),i.position.addInPlace(c),i.setTarget(t.position)}},e.prototype.refreshRotation=function(){var e=this,n=e.pressedKeyBoardKeys,t=e.movementDirectionVector,r=e.mesh;r&&(t?!(n.has("KeyW")||n.has("KeyS")||n.has("KeyD")||n.has("KeyA"))||0===t.x&&0===t.y||r.lookAt(r.position.subtract(new v.Vector3(t.x,0,t.y))):r.lookAt(r.position.subtract(new v.Vector3(0,0,1))))},e.prototype.refreshCameraDirectionVector=function(){var e=this.camera,n=this.mesh;if(n){var t=new w.Vector2(e.position.x,e.position.z),r=new w.Vector2(n.position.x,n.position.z).subtract(t);this.cameraDirectionVector?this.cameraDirectionVector.copyFrom(r):this.cameraDirectionVector=r}},e.prototype.refreshMovementDirectionVector=function(){var e=this.cameraDirectionVector,n=this.pressedKeyBoardKeys;e&&(this.movementDirectionVector?this.movementDirectionVector.copyFrom(w.Vector2.Zero()):this.movementDirectionVector=w.Vector2.Zero(),n.has("KeyW")&&this.movementDirectionVector.addInPlace(e),n.has("KeyS")&&this.movementDirectionVector.addInPlace(e.scale(-1)),n.has("KeyD")&&this.movementDirectionVector.addInPlace(new w.Vector2(e.y,-e.x)),n.has("KeyA")&&this.movementDirectionVector.addInPlace(new w.Vector2(-e.y,e.x)),this.movementDirectionVector.normalize())},e}(),g=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e},b=h.Ay.div(i||(i=g(["\n  width: 100%;\n  max-width: 400px;\n  position: absolute;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  display: flex;\n  flex-direction: column;\n  z-index: 1;\n  background-color: #d3d3d3;\n"],["\n  width: 100%;\n  max-width: 400px;\n  position: absolute;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  display: flex;\n  flex-direction: column;\n  z-index: 1;\n  background-color: #d3d3d3;\n"]))),K=h.Ay.div(a||(a=g(["\n  flex-shrink: 0;\n  position: relative;\n  padding: 16px;\n"],["\n  flex-shrink: 0;\n  position: relative;\n  padding: 16px;\n"]))),E=h.Ay.div(c||(c=g(["\n  width: ","px;\n  height: ","px;\n  cursor: pointer;\n"],["\n  width: ","px;\n  height: ","px;\n  cursor: pointer;\n"])),48,48),V=h.Ay.div(s||(s=g(["\n  height: 100%;\n  overflow: auto;\n"],["\n  height: 100%;\n  overflow: auto;\n"]))),D=h.Ay.div(l||(l=g(["\n  padding: 16px;\n  background-color: ",";\n  cursor: pointer;\n"],["\n  padding: 16px;\n  background-color: ",";\n  cursor: pointer;\n"])),(function(e){return e.isActive?"#89CFF0":"#F0F8FF"})),k=function(){return k=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},k.apply(this,arguments)},A=function(e){return u.createElement("svg",k({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},e),u.createElement("path",{d:"M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"}))},C=function(e){var n=e.activeItemIndex,t=e.onItemClick,r=e.onClose,o=e.itemsNumber,i=(0,u.useMemo)((function(){return Array.from(Array(o).keys())}),[o]);return u.createElement(b,null,u.createElement(K,null,u.createElement(E,{onClick:r},u.createElement(A,null))),u.createElement(V,null,i.map((function(e){return u.createElement(D,{onClick:function(){return t(e)},isActive:e===n,key:e},"Пример №".concat(e+1))}))))},O=function(){return O=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},O.apply(this,arguments)},I=function(e){return u.createElement("svg",O({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},e),u.createElement("path",{d:"M0 96C0 78.3 14.3 64 32 64l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 128C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 288c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32L32 448c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z"}))},L=(t(15022),t(35652),t(35172),function(){return L=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},L.apply(this,arguments)}),P={index:0,isNavigationOpened:!1},S=[function(){var e=function(){var e=(0,u.useRef)(null);return(0,u.useEffect)((function(){var n=e.current;if(n){n.addEventListener("click",(function(){n.requestPointerLock()}));var t=new v.Engine(n,!0,{preserveDrawingBuffer:!0,stencil:!0}),r=new v.Scene(t),o=new v.ArcRotateCamera("Camera",-Math.PI/2,Math.PI/4,10,new v.Vector3(0,0,0),r);o.setTarget(v.Vector3.Zero()),o.attachControl(n,!0),new v.HemisphericLight("light",new v.Vector3(0,1,0),r).intensity=.7,new x({scene:r,camera:o});var i=v.MeshBuilder.CreateGround("ground",{width:6,height:6},r),a=new v.StandardMaterial("groundMaterial",r);a.diffuseColor=v.Color3.FromHexString("#97ae3b"),i.material=a,t.runRenderLoop((function(){r.render()}));var c=function(){t.resize()};return window.addEventListener("resize",c),function(){return window.removeEventListener("resize",c)}}}),[]),e}();return u.createElement("canvas",{ref:e})}],M=function(){var e=(0,u.useState)(P),n=e[0],t=e[1],r=(0,u.useMemo)((function(){return S[n.index]}),[n.index]),o=function(){t((function(e){return L(L({},e),{isNavigationOpened:!e.isNavigationOpened})}))};switch(S.length){case 0:return null;case 1:return u.createElement(m,null,u.createElement(r,null));default:return u.createElement(m,null,n.isNavigationOpened?u.createElement(C,{activeItemIndex:n.index,onItemClick:function(e){t((function(n){return L(L({},n),{index:e})}))},onClose:o,itemsNumber:S.length}):u.createElement(f,{onClick:o},u.createElement(I,null)),u.createElement(r,null))}};d.createRoot(document.getElementById("root")).render(u.createElement(u.StrictMode,null,u.createElement((function(){return u.createElement(M,null)}),null)))}}]);